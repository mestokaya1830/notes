import{_ as m,a as f,o as i,c as l,b as t,t as n,i as u,w as c,v as p,e as a}from"./index-20d891a6.js";const b={name:"Index",data(){return{post:{title:"",body:""},data:"",message:"",error:{}}},methods:{selectImage(r){this.data=new FormData,this.data.append("file",r.target.files[0]),this.data.append("post",JSON.stringify(this.post))},async createPost(){this.post.title==""?this.error={title:"Title cant bu null!"}:this.post.body==""?this.error={body:"Body cant be null!"}:this.post.imageName==""?this.error={file:"No selected file!"}:await f.post("/api/admin/create",this.data).then(r=>{r.status==200&&(this.message=r.data)})}}},h={class:"container"},_=t("h1",null,"Create New Post",-1),y={class:"text text-success text-center"},x={class:"mb-3 row"},g=t("label",{for:"title"},"Title",-1),v={key:0,class:"text text-danger mt-2"},w=t("label",{for:"body"},"Body",-1),k={key:0,class:"text text-danger mt-2"},N=t("label",{for:"title"},"Image",-1),B={key:0,class:"text text-danger mt-2"},C={class:"d-grid mt-3"};function I(r,s,V,D,e,d){return i(),l("div",null,[t("div",h,[_,t("h3",y,n(e.message),1),t("form",{onSubmit:s[4]||(s[4]=u(()=>{},["prevent"])),id:"form",class:"border rounded p-4"},[t("div",x,[g,t("div",null,[c(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=o=>e.post.title=o)},null,512),[[p,e.post.title]]),e.error.title?(i(),l("div",v,n(e.error.title),1)):a("",!0)]),w,t("div",null,[c(t("textarea",{class:"form-control",rows:"10","onUpdate:modelValue":s[1]||(s[1]=o=>e.post.body=o),id:"body"},null,512),[[p,e.post.body]]),e.error.body?(i(),l("div",k,n(e.error.body),1)):a("",!0)]),N,t("div",null,[t("input",{type:"file",ref:"file",onChange:s[2]||(s[2]=o=>d.selectImage(o)),accept:"image/*"},null,544),e.error.file?(i(),l("div",B,n(e.error.file),1)):a("",!0)]),t("div",C,[t("button",{class:"btn btn-dark",onClick:s[3]||(s[3]=o=>d.createPost())},"Create")])])],32)])])}const S=m(b,[["render",I]]);export{S as default};
