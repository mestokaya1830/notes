import{_ as r,a as c,f as l,o as _,c as p,b as t,t as o,g as u,h as m,d as h}from"./index-20d891a6.js";const g={data(){return{post:{},message:""}},mounted(){this.getPost()},methods:{async getPost(){await c.get(`/api/admin/post/${this.$route.params.id}`).then(n=>{n.status==200&&(this.post=n.data.post)})},async deletePost(n){await c.post("/api/admin/delete/"+n,{imageName:this.post.imageName}).then(s=>{s.status==200&&(this.error={},this.message=s.data,setTimeout(()=>{this.$router.push("/admin")},1e3))})},getBack(){window.history.back()}}},f={class:"container"},k={class:"row justify-content-center"},x={class:"col-sm-8"},b={class:"text text-success mt-3 text-center"},v={class:"card"},y={class:"card-body"},w=["src"],B={class:"card-title"},N={class:"card-subtitle mb-2 text-muted"},C={class:"card-text"},D={class:"d-flex justify-content-end gap-2"},P={class:"btn btn-warning"};function V(n,s,j,E,e,a){const d=l("router-link");return _(),p("div",f,[t("div",k,[t("div",x,[t("h4",null,o(e.post.title)+" / "+o(e.post.owner),1),t("a",{href:"#",onClick:s[0]||(s[0]=i=>a.getBack()),class:"card-link"},"Return"),t("h2",b,o(e.message),1),t("div",v,[t("div",y,[t("img",{src:`/uploads/${e.post.imageName}`,alt:""},null,8,w),t("h5",B,o(e.post.title),1),t("p",N,o(new Date(e.post.created_at).toLocaleDateString()),1),t("p",C,o(e.post.body),1),t("a",{href:"#",onClick:s[1]||(s[1]=i=>a.getBack()),class:"card-link"},"Return"),t("div",D,[t("button",P,[u(d,{to:`/admin/post/edit/${e.post._id}`},{default:m(()=>[h("Edit")]),_:1},8,["to"])]),t("button",{class:"btn btn-danger",onClick:s[2]||(s[2]=i=>a.deletePost(e.post._id))},"Delete")])])])])])])}const S=r(g,[["render",V]]);export{S as default};
